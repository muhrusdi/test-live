{"version":3,"sources":["webpack:///./src/services/auth.js","webpack:///./src/components/PrivateRoute/index.jsx","webpack:///./src/containers/Login/index.jsx","webpack:///./src/pages/app.jsx","webpack:///./node_modules/core-js/modules/es6.function.name.js"],"names":["setUser","user","window","localStorage","setItem","JSON","stringify","getUser","getItem","parse","handleLogin","_ref","username","password","name","email","isLoggedIn","PrivateRoute","Component","component","location","rest","objectWithoutPropertiesLoose_default","pathname","console","log","react_default","a","createElement","navigate","Login","props","_this","_React$Component","call","this","handleSubmit","e","preventDefault","state","setState","isNotValid","handleChange","_this$setState","target","value","isExist","render","_this2","StyledSubmit","styled","button","_templateObject","Object","core_browser_esm","index_es","justify","align","css","_templateObject2","onSubmit","_templateObject3","src","logo","alt","_templateObject4","react_transition_group","in","appear","timeout","onEnter","node","TweenLite","set","x","addEndListener","to","ease","Elastic","easeOut","config","onComplete","input_default","_templateObject5","size","type","onChange","placeholder","_templateObject6","addonAfter","icon_default","React","App","es","components_PrivateRoute","path","Home","containers_Login","dP","__webpack_require__","f","FProto","Function","prototype","nameRE","configurable","get","match"],"mappings":"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","file":"component---src-pages-app-jsx-0f1bd2c6541525ecf17c.js","sourcesContent":["export const isBrowser = () => typeof window !== \"undefined\"\n\nconst setUser = user =>\n  window.localStorage.setItem(\"gatsbyUser\", JSON.stringify(user))\n\nexport const getUser = () =>\n  isBrowser() && window.localStorage.getItem(\"gatsbyUser\")\n    ? JSON.parse(window.localStorage.getItem(\"gatsbyUser\"))\n    : {}\n\nexport const handleLogin = ({ username, password }) => {\n  // const { _username, _password } = localStorage.getItem('gatsbyUser')\n  if (username === 'akida' && password === '12345') {\n    return setUser({\n      username: `akida`,\n      name: `Akida`,\n      email: `akida@example.org`,\n    })\n  }\n\n  return false\n}\n\nexport const isLoggedIn = () => {\n  const user = getUser()\n\n  return !!user.username\n}\n\nexport const logout = callback => {\n  setUser({})\n  callback()\n}","import React from \"react\"\nimport { navigate } from \"gatsby\"\nimport { isLoggedIn } from \"../../services/auth\"\n\nconst PrivateRoute = ({ component: Component, location, ...rest }) => {\n  if (!isLoggedIn() && location.pathname !== `/app/login`) {\n    navigate(`/app/login`)\n    return null\n  }\n  console.log('privateRouter', location)\n  return <Component {...rest} />\n}\n\nexport default PrivateRoute","/** @jsx jsx */\nimport React from \"react\"\nimport styled from '@emotion/styled'\nimport { jsx, css } from '@emotion/core'\nimport { navigate } from \"gatsby\"\nimport { Container, Row, Col } from 'reus'\nimport { Input, Icon, Button } from 'antd'\nimport { handleLogin, isLoggedIn, setUser } from \"Services/auth\"\nimport logo from 'Images/logo-modana.png'\nimport { Transition } from 'react-transition-group'\nimport { TweenLite, Elastic } from 'gsap'\n\nclass Login extends React.Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      username: '',\n      password: '',\n      isExist: false,\n      isNotValid: false\n    }\n  }\n\n  handleSubmit = e => {\n    e.preventDefault()\n    handleLogin({\n      username: this.state.username,\n      password: this.state.password\n    }) ? navigate('/app') : this.setState({isNotValid: true})\n  }\n\n  handleChange = e => {\n    this.setState({[e.target.name]: e.target.value})\n    if (e.target.name === 'password') {\n      if (e.target.value !== '') {\n        this.setState({isExist: true})\n      } else {\n        this.setState({isExist: false})\n      }\n    }\n  }\n\n  render() {\n    if (isLoggedIn()) {\n      navigate(`/app`)\n    }\n    // const RowWrapper = styled(Row)`\n    //   height: 100vh;\n    //   background: #f4fcff;\n    // `\n    // const FormInner = styled.div`\n    //   padding: 20px;\n    //   max-width: 320px;\n    // `\n    const StyledSubmit = styled.button`\n      background: none;\n      height: 32px;\n      border: none;\n      position: relative;\n      outline: none;\n      cursor: pointer;\n    `\n    return (\n      <div>\n        <Container>\n          <Row justify=\"center\" align=\"center\" css={css`\n            height: 100vh;\n            background: #f4fcff;\n            height: 100vh;`}>\n            <Col>\n              <form onSubmit={this.handleSubmit}>\n                <div css={css`text-align: center;`}>\n                  <img src={logo} alt=\"\"/>\n                </div>\n                <div css={css`\n                  max-width: 320px;\n                  padding: 20px;\n                `}>\n                  <Transition\n                    in={this.state.isNotValid}\n                    appear\n                    timeout={40}\n                    onEnter={node => {\n                      TweenLite.set(node, { \n                        x: -25\n                      })\n                    }}\n                    addEndListener={node => {\n                      TweenLite.to(node, 1, { \n                        ease: Elastic.easeOut.config(1, 0.1), \n                        x: 0,\n                        onComplete: () => {\n                          this.setState({isNotValid: false})\n                        }\n                      })\n                    }}\n                  >\n                    <div>\n                      <Input css={css`\n                        border-bottom: 1px solid rgba(255,255,255,0);\n                        border-bottom-left-radius: 0;\n                        border-bottom-right-radius: 0;\n                      `} size=\"large\"\n                        name=\"username\"\n                        type=\"text\"\n                        value={this.state.username}\n                        onChange={this.handleChange}\n                        placeholder=\"Username\" />\n                      <Input css={css`\n                        border-top-left-radius: 0;\n                        border-bottom-right-radius: 3px !important;\n                        & ~ .ant-input-group-addon {\n                          position: absolute;\n                          top: 0;\n                          display: ${this.state.isExist ? 'inline-block' : 'none'};\n                          padding-top: 5px;\n                          cursor: pointer;\n                          right: 0;\n                          z-index: 10;\n                          bottom: 0;\n                          width: 43px;\n                          background: none;\n                          border: none;\n                        }\n                      `} \n                        name=\"password\"\n                        type=\"password\"\n                        value={this.state.password}\n                        onChange={this.handleChange}\n                        size=\"large\" placeholder=\"Password\" addonAfter={<StyledSubmit type=\"submit\"><Icon type=\"right-circle\" /></StyledSubmit>} />\n                    </div>\n                  </Transition>\n                </div>\n              </form>\n            </Col>\n          </Row>\n        </Container>\n      </div>\n    )\n  }\n}\n\nexport default Login","import React from \"react\"\nimport { Router } from \"@reach/router\"\nimport PrivateRoute from \"Components/PrivateRoute\"\nimport Login from \"Containers/Login\"\nimport Home from 'Containers/Home'\n\nconst App = () => {\n  return (\n    <div>\n      <Router>\n        <PrivateRoute path=\"/app\" component={Home}/> \n        <Login path=\"/app/login\" />\n      </Router>\n    </div>\n  )\n}\n\nexport default App","var dP = require('./_object-dp').f;\nvar FProto = Function.prototype;\nvar nameRE = /^\\s*function ([^ (]*)/;\nvar NAME = 'name';\n\n// 19.2.4.2 name\nNAME in FProto || require('./_descriptors') && dP(FProto, NAME, {\n  configurable: true,\n  get: function () {\n    try {\n      return ('' + this).match(nameRE)[1];\n    } catch (e) {\n      return '';\n    }\n  }\n});\n"],"sourceRoot":""}